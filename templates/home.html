<!DOCTYPE html>
<html>
<head>
    <title>Home</title>
</head>
<body>
    {% extends "base.html" %}

    {% block title %}Home{% endblock %}

    {% block content %}
    <div class="fade-in">
        <h1 class="reveal-in">Welcome to our Flask App ðŸ’»</h1>
        <p>This is the home page with new styling.</p>
        <a href="/user/Rohan">Visit Your Profile</a>
        <form action="/greet" method="get" style="margin-top:16px;">
            <label>Enter your name:</label>
            <input name="name" placeholder="Your Name" />
            <button type="submit" class="btn-anim">Greet me</button>
        </form>
        <hr>
        <p>Quick demos:</p>
        <ul>
            <li><a href="/who/Rohan">Who is Rohan?</a></li>
        </ul>
        <hr>
        <p><a href="/guestbook">Open Guestbook</a></p>
    </div>
    
    <section class="card" style="margin-top:16px;">
        <h3>âœ¨ Daily Motivation</h3>
        <p id="qtext">Click the button for a fresh quote.</p>
        <button id="qbtn" class="btn-anim" style="margin-top:10px;">New Quote</button>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
        const btn = document.getElementById('qbtn');
        const out = document.getElementById('qtext');
        if (!btn || !out) return;

        async function load() {
            try {
            const r = await fetch('/api/quote', { cache: 'no-store' });
            const data = await r.json();
            out.textContent = data.quote || "Stay steady, keep shipping.";
            // tiny feedback if you have .btn-anim in CSS
            btn.classList.remove('press'); void btn.offsetWidth; btn.classList.add('press');
            } catch (e) {
            out.textContent = "Network hiccup â€” try again.";
            }
        }

        btn.addEventListener('click', load);
        });
    </script>

    {% endblock %}
</body>
</html>